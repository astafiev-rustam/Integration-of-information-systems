|||
|---|---|
|ДИСЦИПЛИНА|Интеграция информационных систем с использованием API и микросервисов|
|Подразделение|ПИШ СВЧ-электроники|
|ВИД УЧЕБНОГО МАТЕРИАЛА|Методические указания к практическим занятиям|
|ПРЕПОДАВАТЕЛЬ|Астафьев Рустам Уралович|
|СЕМЕСТР|1 семестр, 2024/2025 уч. год|

Ссылка на GitHub репозиторий:
https://github.com/astafiev-rustam/Integration-of-information-systems/tree/Practice-1-3

## Практическое занятие №3 - REST, SOAP, GraphQL, gRPC. Форматы данных: JSON, XML, Protocol Buffers

**Введение**  
Современные информационные системы редко работают изолированно — им требуется обмен данными с другими сервисами, партнерскими платформами или клиентскими приложениями. На этом занятии мы сосредоточимся не на написании кода, а на аналитике и проектировании: как выбрать подходящий протокол взаимодействия и формат данных, чтобы интеграция была надежной, производительной и удобной в поддержке.  

---

**Теоретическая часть**  
Перед тем как приступить к проектированию, необходимо понять ключевые особенности каждого протокола и формата данных.  

**REST** — это архитектурный стиль, основанный на стандартах HTTP. Он использует простые и понятные принципы: ресурсы (например, `/users`), методы (GET, POST, PUT, DELETE) и коды состояния (200, 404, 500). REST отлично подходит для публичных API, где важны простота и масштабируемость. Однако у него есть ограничения: клиент не может запросить только нужные поля, а для сложных запросов иногда приходится делать несколько вызовов.  

**SOAP** — протокол, строго следующий стандартам. В отличие от REST, он использует XML и WSDL (Web Services Description Language) для описания сервисов. SOAP обеспечивает встроенную безопасность (WS-Security) и надежность (поддержка транзакций), что делает его популярным в корпоративных и финансовых системах. Однако его сложнее поддерживать, а сообщения занимают больше места из-за XML.  

**GraphQL** — это язык запросов, который позволяет клиенту точно указать, какие данные ему нужны. Например, вместо того чтобы загружать всю информацию о пользователе и его заказах отдельными запросами, GraphQL позволяет получить всё за один вызов. Это уменьшает нагрузку на сеть и ускоряет разработку, но требует более сложной реализации на сервере.  

**gRPC** — высокопроизводительный протокол от Google, использующий бинарный формат Protocol Buffers. Он идеален для внутренней связи между микросервисами благодаря низкой задержке и поддержке потоковой передачи данных. Однако он менее удобен для публичных API, так как требует генерации кода и хуже поддерживается в браузерах.  

**Форматы данных** также играют важную роль. JSON — легковесный и удобочитаемый, но менее эффективен для больших объемов данных. XML — структурированный и поддерживает сложные схемы, но избыточен. Protocol Buffers — компактный и быстрый, но требует компиляции и сложнее в отладке.  

---

**Практическое задание: Анализ и проектирование API для различных сценариев**  

**Контекст:**  
Вам нужно разработать стратегию интеграции для трех разных систем:  
1. **Банковский сервис перевода денег**, где критичны безопасность и строгая валидация данных.  
2. **Социальная сеть**, где API должен быть гибким, чтобы поддерживать быстро меняющиеся требования фронтенда.  
3. **Система мониторинга IoT-устройств**, передающая тысячи показаний датчиков в секунду с минимальной задержкой.  

**Задача:**  
Для каждого сценария обоснуйте выбор протокола (REST, SOAP, GraphQL или gRPC) и формата данных (JSON, XML или Protocol Buffers). Ответ должен включать:  
- Краткое описание, почему выбранный протокол подходит лучше остальных.  
- Пример структуры запроса/ответа (например, как будет выглядеть SOAP-конверт для банковского перевода или GraphQL-запрос для соцсети).  
- Оценку потенциальных проблем (например, сложность отладки gRPC или избыточность XML).  

**Пример решения для банковского сервиса:**  
*"Для переводов денег подходит SOAP, так как он обеспечивает встроенную безопасность через WS-Security и строгую схему данных через WSDL. Пример SOAP-запроса может включать XML-конверт с цифровой подписью. Проблема — большой объем сообщений, но для финансовых операций это приемлемо. JSON или gRPC не подходят, так как не имеют стандартизированной поддержки транзакций".*  

---

**Заключение**  
Важно понять, что не существует "идеального" протокола — выбор зависит от требований к безопасности, производительности и удобству разработки. В реальных проектах часто комбинируют несколько подходов: например, REST для публичного API и gRPC для внутренней связи между микросервисами.  

**Домашнее задание:**  
Представьте, что вы проектируете API для сервиса заказа такси. Опишите, какие протоколы и форматы данных вы используете для:  
1. Мобильного приложения (клиентская часть).  
2. Внутреннего сервиса расчета стоимости поездки.  
3. Интеграции с партнерскими службами (например, платежными системами).  
Обоснуйте каждый выбор и укажите потенциальные узкие места.  
